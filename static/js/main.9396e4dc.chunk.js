(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var a=n(32),r=n(89),i=n(9),s=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):a.c)(Object(a.a)(r.a)),l=function(){try{var e=localStorage.getItem("stackhackv1");if(null===e)return;return JSON.parse(e)}catch(t){return}}()||{},o=Object(a.d)((function(e,t){switch(t.type){case"APP_BUSY":return Object(i.a)(Object(i.a)({},e),{},{busy:!0,message:void 0});case"NETWORK_ERROR":return Object(i.a)(Object(i.a)({},e),{},{busy:!1,message:{kind:"error",title:"Network Error",text:"Check your network connection."}});case"LOGIN_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{busy:!1,user:t.payload,message:{kind:"success",title:"Login Success",text:"Successfully logged in."}});case"LOGIN_FAILED":return Object(i.a)(Object(i.a)({},e),{},{busy:!1,message:{kind:"error",title:"Login Error",text:"Wrong email or password. Try again"}});case"LOGOUT":return localStorage.setItem("stackhackv1",""),Object(i.a)(Object(i.a)({},e),{},{busy:!1,user:void 0,message:{kind:"success",title:"Logout Success",text:"Successfully logged out."}});case"EVENTS_RETRIEVAL_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{busy:!1,allEvents:t.payload,message:void 0});case"EVENT_REGISTRATIONS_RETRIEVAL_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{busy:!1,allRegistrations:t.payload,message:void 0});case"EVENT_CREATION_SUCCESS":var n=e.allEvents.concat(t.payload);return Object(i.a)(Object(i.a)({},e),{},{allEvents:n,busy:!1,message:{kind:"success",title:"Event Created",text:"Event created successfully."}});case"EVENT_REGISTRATION_CREATION_SUCCESS":var a=e.allRegistrations.concat(t.payload);return Object(i.a)(Object(i.a)({},e),{},{allRegistrations:a,busy:!1,message:{kind:"success",title:"Event Registration Created",text:"Event registration created successfully."}});case"EVENT_UPDATION_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{busy:!1,message:{kind:"success",title:"Event Updated",text:"Event updated successfully."}});case"EVENT_REGISTRATION_UPDATION_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{busy:!1,message:{kind:"success",title:"Event Registration Updated",text:"Event registration updated successfully."}});case"EVENT_DELETION_SUCCESS":var r=e.allEvents.filter((function(e){return e.eventId!==t.payload}));return Object(i.a)(Object(i.a)({},e),{},{busy:!1,allEvents:r,message:{kind:"success",title:"Event Deleted",text:"Event deleted successfully."}});case"EVENT_REGISTRATION_DELETION_SUCCESS":var s=e.allRegistrations.filter((function(e){return e.regId!==t.payload}));return Object(i.a)(Object(i.a)({},e),{},{busy:!1,allRegistrations:s,message:{kind:"success",title:"Event Registration Deleted",text:"Event registration deleted successfully."}});default:return e}}),l,s),c=(n(101),n(17)),u=n(0),d=n.n(u),p=n(30),E=n.n(p),m=n(19),h=n(20),v=n(23),g=n(22),f=n(153),b=n(156),y=n(39),S=n(12),T=n(6),C=n.n(T),k=n(7),O=n(14),R=n(161),w=n(81),_=n(75),I=n(74),x=n(77),N=n(67),j="https://hackstack-backend.herokuapp.com",D=function(){var e=Object(k.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){e({type:"APP_BUSY"})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){fetch("".concat(j,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}).then((function(e){return e.json()})).then((function(t){e(t?{type:"LOGIN_SUCCESS",payload:t}:{type:"LOGIN_FAILED"})})).catch((function(t){console.log("error while logging in",t),e({type:"LOGIN_FAILED"})}))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(k.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){fetch("".concat(j,"/events"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e(t?{type:"EVENTS_RETRIEVAL_SUCCESS",payload:t}:{type:"NETWORK_ERROR"})})).catch((function(t){console.log("network error",t),e({type:"NETWORK_ERROR"})}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(k.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){fetch("".concat(j,"/registrations"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e(t?{type:"EVENT_REGISTRATIONS_RETRIEVAL_SUCCESS",payload:t}:{type:"NETWORK_ERROR"})})).catch((function(t){console.log("network error",t),e({type:"NETWORK_ERROR"})}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){fetch("".concat(j,"/events"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e(t?{type:"EVENT_CREATION_SUCCESS",payload:t}:{type:"NETWORK_ERROR"})})).catch((function(t){console.log("network error",t),e({type:"NETWORK_ERROR"})}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){fetch("".concat(j,"/registrations"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e(t?{type:"EVENT_REGISTRATION_CREATION_SUCCESS",payload:t}:{type:"NETWORK_ERROR"})})).catch((function(t){console.log("network error",t),e({type:"NETWORK_ERROR"})}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){fetch("".concat(j,"/events"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){t.ok?e({type:"EVENT_UPDATION_SUCCESS"}):e({type:"NETWORK_ERROR"})})).catch((function(t){console.log("network error",t),e({type:"NETWORK_ERROR"})}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){fetch("".concat(j,"/registrations"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){t.ok?e({type:"EVENT_REGISTRAION_UPDATION_SUCCESS"}):e({type:"NETWORK_ERROR"})})).catch((function(t){console.log("network error",t),e({type:"NETWORK_ERROR"})}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){fetch("".concat(j,"/events/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(n){n.ok?e({type:"EVENT_DELETION_SUCCESS",payload:t}):e({type:"NETWORK_ERROR"})})).catch((function(t){console.log("network error",t),e({type:"NETWORK_ERROR"})}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){fetch("".concat(j,"/registrations/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(n){n.ok?e({type:"EVENT_REGISTRATION_DELETION_SUCCESS",payload:t}):e({type:"NETWORK_ERROR"})})).catch((function(t){console.log("network error",t),e({type:"NETWORK_ERROR"})}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(k.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){e({type:"LOGOUT"})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={sideNav:!1,profileModalShow:!1},e._handleLogout=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.location.href="/",t.next=3,e.props.logout();case 3:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"container"},d.a.createElement(y.a,null,d.a.createElement(O.Header,{"aria-label":"Platform"},d.a.createElement(O.HeaderMenuButton,{"aria-label":"Open menu",onClick:function(){return e.setState({sideNav:!e.state.sideNav})},isActive:this.state.sideNav}),d.a.createElement(O.HeaderName,{href:"#home",prefix:""},"StackHack v1"),d.a.createElement(O.HeaderGlobalBar,null,this.props.user?d.a.createElement(d.a.Fragment,null,d.a.createElement(O.HeaderGlobalAction,{onClick:function(){return e.setState({profileModalShow:!0})},"aria-label":"User"},d.a.createElement(w.a,null)),d.a.createElement(R.a,{open:this.state.profileModalShow,primaryButtonText:"Close",secondaryButtonText:"Logout",onRequestClose:function(){return e.setState({profileModalShow:!1})},onRequestSubmit:function(){return e.setState({profileModalShow:!1})},onSecondarySubmit:this._handleLogout},d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{style:{textAlign:"center"}},"Logged in as ",d.a.createElement("strong",null,this.props.user.email))))):d.a.createElement(d.a.Fragment,null)),d.a.createElement(O.SideNav,{"aria-label":"Side navigation",isRail:!0,defaultExpanded:!1,expanded:this.state.sideNav},d.a.createElement(O.SideNavItems,null,d.a.createElement(y.b,{to:"/home"},d.a.createElement(O.SideNavLink,{renderIcon:_.a},"Home")),this.props.user?this.props.user.isAdmin?d.a.createElement(d.a.Fragment,null,d.a.createElement(O.SideNavLink,{href:"#adminEvents",renderIcon:I.a},"Manage All Events"),d.a.createElement(O.SideNavLink,{href:"#adminRegistrations",renderIcon:N.a},"Manage All Event Registrations")):d.a.createElement(d.a.Fragment,null,d.a.createElement(O.SideNavLink,{href:"#adminRegistrations",renderIcon:I.a},"Event Registration"),d.a.createElement(O.SideNavLink,{href:"#adminEvents",renderIcon:x.a},"All Events")):d.a.createElement(d.a.Fragment,null))))),d.a.createElement(O.Content,null,this.props.children))}}]),n}(d.a.Component);var W=Object(c.b)((function(e){return{user:e.user,busy:e.busy}}),(function(e){return{logout:function(){var t=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,D();case 3:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=e,t.next=8,B();case 8:t.t3=t.sent,(0,t.t2)(t.t3);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}))(F),K=n(158),J=n(141),Y=n(76),z=n(73),X=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loginModalShow:!1,email:"",password:""},e._handleLoginBtn=function(){e.setState({loginModalShow:!0})},e._handleEmailChange=function(t){e.setState({email:t.target.value})},e._handlePasswordChange=function(t){e.setState({password:t.target.value})},e._handleLoginSubmit=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loginModalShow:!1,email:"",password:""}),t.next=3,e.props.login(e.state.email,e.state.password);case 3:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return d.a.createElement("div",{style:{textAlign:"center"}},d.a.createElement(R.a,{open:this.state.loginModalShow,primaryButtonText:"Login",secondaryButtonText:"Close",onRequestClose:function(){return e.setState({loginModalShow:!1})},onRequestSubmit:this._handleLoginSubmit,onSecondarySubmit:function(){return e.setState({loginModalShow:!1})},disabled:!0},d.a.createElement(K.a,{id:"email",disabled:!1,labelText:"Your Email:",light:!1,placeholder:"mark@example.com",value:this.state.email,type:"text",onChange:this._handleEmailChange}),d.a.createElement("br",null),d.a.createElement(K.a,{id:"password",disabled:!1,labelText:"Your Password:",light:!1,placeholder:"**********",value:this.state.password,type:"password",onChange:this._handlePasswordChange})),d.a.createElement("div",{style:{textAlign:"center"}},d.a.createElement("div",null,d.a.createElement("img",{src:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/StackHack1.0%20Themes-021837f1c.png",alt:"poster",width:"30%"})),this.props.user&&this.props.user.isAdmin?d.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto"},className:"bx--form__helper-text"},"Admin Priveleges: ",d.a.createElement("strong",null,"ACTIVATED")):d.a.createElement(d.a.Fragment,null),d.a.createElement("br",null),this.props.user?d.a.createElement(J.a,{renderIcon:z.a,href:"#/adminRegistrations"},"Event Registration"):d.a.createElement(J.a,{renderIcon:Y.a,onClick:this._handleLoginBtn},"Login")))}}]),n}(d.a.Component);var Q=Object(c.b)((function(e){return{busy:e.busy,user:e.user}}),(function(e){return{login:function(){var t=Object(k.a)(C.a.mark((function t(n,a){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,D();case 3:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=e,t.next=8,L(n,a);case 8:t.t3=t.sent,(0,t.t2)(t.t3);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}))(X),Z=n(157),$=n(149),ee=n(150),te=n(160),ne=n(151),ae=n(162),re=n(152),ie=n(72),se=n(71),le=Z.a.TableContainer,oe=Z.a.Table,ce=Z.a.TableHead,ue=Z.a.TableRow,de=Z.a.TableBody,pe=Z.a.TableCell,Ee=Z.a.TableHeader,me=Z.a.TableToolbar,he=Z.a.TableToolbarContent,ve=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={modalShow:!1,eventDate:(new Date).getTime(),eventLocation:"",eventHelpline:"",eventEmail:"",eventId:Math.random().toString(36).substring(2,15),totalTickets:100,mode:0},e._handleEventDateChange=function(t){e.setState({eventDate:new Date(t).getTime()})},e._handleEventLocationChange=function(t){e.setState({eventLocation:t.target.value})},e._handleEventHelplineChange=function(t){e.setState({eventHelpline:t.target.value})},e._handleEventEmailChange=function(t){e.setState({eventEmail:t.target.value})},e._handleTotalTicketsChange=function(t){e.setState({totalTickets:t.imaginaryTarget.valueAsNumber})},e._handleAddEventPrep=function(){e.setState({eventId:Math.random().toString(36).substring(2,15),eventLocation:"",eventHelpline:"",eventEmail:"",eventDate:(new Date).getTime(),totalTickets:0,modalShow:!0,mode:0})},e._handleAddEvent=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.addEvent({eventId:e.state.eventId,eventDate:e.state.eventDate,eventLocation:e.state.eventLocation,eventHelpline:e.state.eventHelpline,eventEmail:e.state.eventEmail,totalTickets:e.state.totalTickets});case 2:e.setState({eventId:Math.random().toString(36).substring(2,15),eventLocation:"",eventHelpline:"",eventEmail:"",eventDate:(new Date).getTime(),totalTickets:0,modalShow:!1,mode:0});case 3:case"end":return t.stop()}}),t)}))),e._handleDeleteEvent=function(){var t=Object(k.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.deleteEvent(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e._handleUpdateEventPrep=function(t){e.setState({eventId:t.eventId,eventDate:t.eventDate,eventLocation:t.eventLocation,eventHelpline:t.eventHelpline,eventEmail:t.eventEmail,totalTickets:t.totalTickets,modalShow:!0,mode:1})},e._handleUpdateEvent=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.editEvent({eventId:e.state.eventId,eventDate:e.state.eventDate,eventLocation:e.state.eventLocation,eventHelpline:e.state.eventHelpline,eventEmail:e.state.eventEmail,totalTickets:e.state.totalTickets});case 2:e.setState({eventId:Math.random().toString(36).substring(2,15),eventLocation:"",eventHelpline:"",eventEmail:"",eventDate:(new Date).getTime(),totalTickets:0,modalShow:!1,mode:0});case 3:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(n,[{key:"componentWillMount",value:function(){this.props.retrieveEventsList()}},{key:"render",value:function(){var e=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement(R.a,{open:this.state.modalShow,primaryButtonText:"Close",secondaryButtonText:this.state.mode?"Update":"Add",onRequestClose:function(){return e.setState({modalShow:!1,mode:0})},onRequestSubmit:function(){return e.setState({modalShow:!1})},onSecondarySubmit:this.state.mode?this._handleUpdateEvent:this._handleAddEvent},d.a.createElement($.a,null,d.a.createElement(ee.a,{legendText:"Event Details"},d.a.createElement(K.a,{id:"event-id",disabled:!0,value:this.state.eventId,labelText:"Event ID (Auto-Generated)",type:"text",required:!0}),d.a.createElement("br",null),d.a.createElement(te.a,{required:!0,dateFormat:"m/d/Y",datePickerType:"single",value:this.state.eventDate,onChange:this._handleEventDateChange},d.a.createElement(ne.a,{id:"event-date",placeholder:"mm/dd/yyyy",labelText:"Event Date",type:"text"})),d.a.createElement("br",null),d.a.createElement(K.a,{id:"event-location",value:this.state.eventLocation,labelText:"Event Location",onChange:this._handleEventLocationChange,placeholder:"Moon Heights, Bangalore",type:"text",required:!0}),d.a.createElement("br",null),d.a.createElement(K.a,{id:"event-helpline",value:this.state.eventHelpline,labelText:"Event Helpline",onChange:this._handleEventHelplineChange,placeholder:"9999999999",type:"text",required:!0}),d.a.createElement("br",null),d.a.createElement(K.a,{id:"event-email",value:this.state.eventEmail,labelText:"Event EMail",onChange:this._handleEventEmailChange,placeholder:"abc@example.com",type:"text",required:!0}),d.a.createElement("br",null),d.a.createElement(ae.a,{id:"total-tickets",label:"Total Tickets",max:5e4,min:1,onChange:this._handleTotalTicketsChange,step:1,value:this.state.totalTickets,required:!0})))),d.a.createElement(re.a,null,d.a.createElement(le,{title:"All Events"},d.a.createElement(me,null,d.a.createElement(he,null,d.a.createElement(J.a,{disabled:!this.props.user.isAdmin,tabIndex:0,onClick:function(){return e._handleAddEventPrep()},size:"small",kind:"primary"},"Add Event"))),d.a.createElement(oe,null,d.a.createElement(ce,null,d.a.createElement(ue,null,d.a.createElement(Ee,{key:"edit"}),d.a.createElement(Ee,{key:"eventId"},"Event Id"),d.a.createElement(Ee,{key:"eventDate"},"Event Date"),d.a.createElement(Ee,{key:"eventLocation"},"Event Location"),d.a.createElement(Ee,{key:"eventHelpline"},"Event Helpline"),d.a.createElement(Ee,{key:"eventEMail"},"Event EMail"),d.a.createElement(Ee,{key:"totalTickets"},"Total Tickets"),d.a.createElement(Ee,{key:"delete"}))),d.a.createElement(de,null,this.props.allEvents?this.props.allEvents.map((function(t){return d.a.createElement(ue,{key:t.eventId},d.a.createElement(pe,null,d.a.createElement(J.a,{disabled:!e.props.user.isAdmin,kind:"ghost",renderIcon:ie.a,onClick:function(){return e._handleUpdateEventPrep(t)}})),d.a.createElement(pe,null,t.eventId),d.a.createElement(pe,null,t.eventDate),d.a.createElement(pe,null,t.eventLocation),d.a.createElement(pe,null,t.eventHelpline),d.a.createElement(pe,null,t.eventEmail),d.a.createElement(pe,null,t.totalTickets),d.a.createElement(pe,null,d.a.createElement(J.a,{disabled:!e.props.user.isAdmin,kind:"ghost",renderIcon:se.a,onClick:function(){return e._handleDeleteEvent(t.eventId)}})))})):d.a.createElement(d.a.Fragment,null))))))}}]),n}(d.a.Component);var ge=Object(c.b)((function(e){return{allEvents:e.allEvents,user:e.user,busy:e.busy}}),(function(e){return{retrieveEventsList:function(){var t=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,D();case 3:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=e,t.next=8,A();case 8:t.t3=t.sent,(0,t.t2)(t.t3);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addEvent:function(){var t=Object(k.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,D();case 3:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=e,t.next=8,U(n);case 8:t.t3=t.sent,(0,t.t2)(t.t3);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteEvent:function(){var t=Object(k.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,D();case 3:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=e,t.next=8,G(n);case 8:t.t3=t.sent,(0,t.t2)(t.t3);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),editEvent:function(){var t=Object(k.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,D();case 3:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=e,t.next=8,M(n);case 8:return t.t3=t.sent,(0,t.t2)(t.t3),t.t4=e,t.next=13,A();case 13:t.t5=t.sent,(0,t.t4)(t.t5);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(ve),fe=n(159),be=n(154),ye=n(155),Se=Z.a.TableContainer,Te=Z.a.Table,Ce=Z.a.TableHead,ke=Z.a.TableRow,Oe=Z.a.TableBody,Re=Z.a.TableCell,we=Z.a.TableHeader,_e=Z.a.TableToolbar,Ie=Z.a.TableToolbarContent,xe=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={idCardStatus:"edit",modalShow:!1,registeredName:"",registeredPhone:"",registeredEmail:"",registeredIDCard:"",eventId:e.props.allEvents[0].eventId,type:"Self",ticketCount:1,regId:Math.random().toString(36).substring(2,15),mode:0,ticketCountDisabled:!0},e._handleNameChange=function(t){e.setState({registeredName:t.target.value})},e._handlePhoneChange=function(t){e.setState({registeredPhone:t.target.value})},e._handleEmailChange=function(t){e.setState({registeredEmail:t.target.value})},e._handleIDCardChange=function(t){e.setState({registeredIDCard:t.target.value})},e._handleEventIdChange=function(t){e.setState({eventId:t.target.value})},e._handleTypeChange=function(t){"Self"===t.target.value?e.setState({ticketCount:1,ticketCountDisabled:!0}):e.setState({ticketCountDisabled:!1}),e.setState({type:t.target.value})},e._handleTicketCountChange=function(t){e.setState({ticketCount:t.imaginaryTarget.valueAsNumber})},e._handleIDCardChange=function(t){e.setState({idCardStatus:"uploading"});var n=new FileReader;n.readAsDataURL(t.target.files[0]),n.onload=function(t){6*t.target.result.length/8/1024>100&&alert("File size is bigger than expected. Backend DB may reject the request."),e.setState({registeredIDCard:t.target.result,idCardStatus:"edit"})}},e._handleAddEventRegistrationPrep=function(){e.setState({modalShow:!0,registeredName:"",registeredPhone:"",registeredEmail:"",registeredIDCard:"",type:"Self",ticketCount:1,regId:Math.random().toString(36).substring(2,15),mode:0})},e._handleAddEventRegistration=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.addEventRegistration({registeredName:e.state.registeredName,registeredPhone:e.state.registeredPhone,registeredEmail:e.state.registeredEmail,registeredIDCard:e.state.registeredIDCard,eventId:e.state.eventId,type:e.state.type,ticketCount:e.state.ticketCount,regId:e.state.regId});case 2:e.setState({modalShow:!1,registeredName:"",registeredPhone:"",registeredEmail:"",registeredIDCard:"",type:"Self",ticketCount:1,regId:Math.random().toString(36).substring(2,15),mode:0});case 3:case"end":return t.stop()}}),t)}))),e._handleDeleteEventRegistration=function(){var t=Object(k.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.deleteEventRegistration(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e._handleUpdateEventRegistrationPrep=function(t){console.log(t),e.setState({registeredPhone:t.registeredPhone,registeredName:t.registeredName,registeredEmail:t.registeredEmail,registeredIDCard:t.registeredIDCard,eventId:t.eventId,type:t.type,ticketCount:t.ticketCount,regId:t.regId,mode:1,modalShow:!0})},e._handleUpdateEventRegistration=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.editEventRegistration({registeredName:e.state.registeredName,registeredPhone:e.state.registeredPhone,registeredEmail:e.state.registeredEmail,registeredIDCard:e.state.registeredIDCard,eventId:e.state.eventId,type:e.state.type,ticketCount:e.state.ticketCount,regId:e.state.regId});case 2:e.setState({modalShow:!1,registeredName:"",registeredPhone:"",registeredEmail:"",registeredIDCard:"",type:"Self",ticketCount:1,regId:Math.random().toString(36).substring(2,15),mode:0});case 3:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(n,[{key:"componentWillMount",value:function(){this.props.retrieveEventRegistrationsList()}},{key:"render",value:function(){var e=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement(R.a,{open:this.state.modalShow,primaryButtonText:"Close",secondaryButtonText:this.state.mode?"Update":"Add",onRequestClose:function(){return e.setState({modalShow:!1,mode:0})},onRequestSubmit:function(){return e.setState({modalShow:!1})},onSecondarySubmit:this.state.mode?this._handleUpdateEventRegistration:this._handleAddEventRegistration},d.a.createElement($.a,null,d.a.createElement(ee.a,{legendText:"Event Registrations Details"},d.a.createElement(K.a,{id:"event-reg-id",disabled:!0,value:this.state.regId,labelText:"Event Registration ID (Auto-Generated)",type:"text",required:!0}),d.a.createElement("br",null),d.a.createElement(K.a,{id:"event-reg-name",value:this.state.registeredName,labelText:"Registered Name",onChange:this._handleNameChange,placeholder:"Mark Clair",type:"text",required:!0}),d.a.createElement("br",null),d.a.createElement(K.a,{id:"event-reg-phone",value:this.state.registeredPhone,labelText:"Registered Phone",onChange:this._handlePhoneChange,placeholder:"9999999999",type:"text",required:!0}),d.a.createElement("br",null),d.a.createElement(K.a,{id:"event-helpline",value:this.state.registeredEmail,labelText:"Registered Email",onChange:this._handleEmailChange,placeholder:"abc@example.com",type:"text",required:!0}),d.a.createElement("br",null),d.a.createElement(fe.a,{accept:[".jpg",".png"],required:!0,filenameStatus:this.state.idCardStatus,buttonKind:"primary",buttonLabel:this.state.mode?"Change":"Upload ID Card",labelDescription:"only jpg/png files upto 100kb are allowed",onDelete:function(){return e.setState({registeredIDCard:""})},onChange:this._handleIDCardChange}),d.a.createElement("br",null),d.a.createElement(be.a,{value:this.state.type,required:!0,labelText:"Type",onChange:this._handleTypeChange},d.a.createElement(ye.a,{text:"Self",value:"Self"}),d.a.createElement(ye.a,{text:"Group",value:"Group"}),d.a.createElement(ye.a,{text:"Corporate",value:"Corporate"}),d.a.createElement(ye.a,{text:"Others",value:"Others"})),d.a.createElement("br",null),d.a.createElement(be.a,{required:!0,labelText:"Event ID",value:this.state.eventId,onChange:this._handleEventIdChange},this.props.allEvents?this.props.allEvents.map((function(e){return d.a.createElement(ye.a,{text:e.eventId,value:e.eventId})})):d.a.createElement(d.a.Fragment,null)),d.a.createElement("br",null),d.a.createElement(ae.a,{required:!0,id:"ticket-count",label:"Ticket Count",max:5e4,min:1,disabled:this.state.ticketCountDisabled,onChange:this._handleTicketCountChange,step:1,value:this.state.ticketCount})))),d.a.createElement(re.a,null,d.a.createElement(Se,{title:"All Event Registrations"},d.a.createElement(_e,null,d.a.createElement(Ie,null,d.a.createElement(J.a,{tabIndex:0,onClick:function(){return e._handleAddEventRegistrationPrep()},size:"small",kind:"primary"},"Add Event Registration"))),d.a.createElement(Te,null,d.a.createElement(Ce,null,d.a.createElement(ke,null,d.a.createElement(we,{key:"edit"}),d.a.createElement(we,{key:"eventId"},"Registration Id"),d.a.createElement(we,{key:"eventDate"},"Registered Name"),d.a.createElement(we,{key:"eventLocation"},"Registered Phone"),d.a.createElement(we,{key:"eventHelpline"},"Registered Email"),d.a.createElement(we,{key:"eventEMail"},"Registered ID Card"),d.a.createElement(we,{key:"totalTickets"},"Event ID"),d.a.createElement(we,{key:"totalTickets"},"Type"),d.a.createElement(we,{key:"totalTickets"},"Ticket Count"),d.a.createElement(we,{key:"delete"}))),d.a.createElement(Oe,null,this.props.allRegistrations?this.props.allRegistrations.map((function(t){return d.a.createElement(ke,{key:t.regId},d.a.createElement(Re,null,d.a.createElement(J.a,{disabled:!e.props.user.isAdmin,kind:"ghost",renderIcon:ie.a,onClick:function(){return e._handleUpdateEventRegistrationPrep(t)}})),d.a.createElement(Re,null,t.regId),d.a.createElement(Re,null,t.registeredName),d.a.createElement(Re,null,t.registeredPhone),d.a.createElement(Re,null,t.registeredEmail),d.a.createElement(Re,null,d.a.createElement("img",{src:t.registeredIDCard,width:"64",alt:"id ".concat(t.regId)})),d.a.createElement(Re,null,t.eventId),d.a.createElement(Re,null,t.type),d.a.createElement(Re,null,t.ticketCount),d.a.createElement(Re,null,d.a.createElement(J.a,{disabled:!e.props.user.isAdmin,kind:"ghost",renderIcon:se.a,onClick:function(){return e._handleDeleteEventRegistration(t.regId)}})))})):d.a.createElement(d.a.Fragment,null))))))}}]),n}(d.a.Component);var Ne=Object(c.b)((function(e){return{allRegistrations:e.allRegistrations,allEvents:e.allEvents,user:e.user,busy:e.busy}}),(function(e){return{retrieveEventRegistrationsList:function(){var t=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,D();case 3:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=e,t.next=8,P();case 8:t.t3=t.sent,(0,t.t2)(t.t3);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addEventRegistration:function(){var t=Object(k.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,D();case 3:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=e,t.next=8,H(n);case 8:t.t3=t.sent,(0,t.t2)(t.t3);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteEventRegistration:function(){var t=Object(k.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,D();case 3:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=e,t.next=8,V(n);case 8:t.t3=t.sent,(0,t.t2)(t.t3);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),editEventRegistration:function(){var t=Object(k.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,D();case 3:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=e,t.next=8,q(n);case 8:return t.t3=t.sent,(0,t.t2)(t.t3),t.t4=e,t.next=13,P();case 13:t.t5=t.sent,(0,t.t4)(t.t5);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(xe),je=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return d.a.createElement("div",{className:"App"},this.props.busy?d.a.createElement(f.a,{description:"Loading, please wait...",active:!0,withOverlay:!0}):d.a.createElement(d.a.Fragment,null),d.a.createElement(W,null,d.a.createElement(y.a,null,d.a.createElement(S.a,{exact:!0,path:"/",render:function(){return d.a.createElement(Q,null)}}),d.a.createElement(S.a,{exact:!0,path:"/home",render:function(){return d.a.createElement(Q,null)}}),d.a.createElement(S.a,{path:"/adminEvents",render:function(){return d.a.createElement(ge,null)}}),d.a.createElement(S.a,{path:"/adminRegistrations",render:function(){return d.a.createElement(Ne,null)}}))),this.props.message?d.a.createElement("div",{className:"toast"},d.a.createElement(b.a,{timeout:5e3,kind:this.props.message.kind,caption:(new Date).toLocaleString(),title:this.props.message.title,subtitle:d.a.createElement("span",null,this.props.message.text)})):d.a.createElement(d.a.Fragment,null))}}]),n}(d.a.Component);var De=Object(c.b)((function(e){return{busy:e.busy,message:e.message}}))(je);o.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("stackhackv1",t)}catch(n){console.log(n)}}(o.getState())})),E.a.render(d.a.createElement(c.a,{store:o},d.a.createElement(De,null)),document.getElementById("root"))},99:function(e,t,n){e.exports=n(140)}},[[99,1,2]]]);
//# sourceMappingURL=main.9396e4dc.chunk.js.map